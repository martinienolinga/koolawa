workspace.storagepanel.getStorageMenu=function(){var a=workspace.workzone.getBeginMenu(["Accueil","Edition"]);var e=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabAllezA",title:"Allez-à",cls:"tab-menu tab-storage",closable:false});a.push(e);var d=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabFavoris",title:"Favoris",cls:"tab-menu tab-storage",closable:false});a.push(d);var c=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabOutils",title:"Outils",cls:"tab-menu tab-storage",closable:false});a.push(c);var b=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabRecherche",title:"Recherche",cls:"tab-menu tab-storage",closable:false});a.push(b);a=workspace.workzone.getEndMenu(a);var f=Ext.create("Koolawa.ux.Ribbon",{id:"storageMenu",cls:"workspaceMenu",tabsTripColor:"#1065a3",items:a,listeners:{afterrender:function(g){workspace.workzone.addShortMenu(g,[{cls:"icon-save_22white",tooltip:"Enregistrer"},{cls:"icon-undo_22white",tooltip:"Annuler la dernière action"},{cls:"icon-redo_22white",tooltip:"Refaire la dernière action"}])}}});$(window).on("resize",function(){var g=workspace.storagepanel.storageMenu;g.updateSize()});workspace.storagepanel.storageMenu=f;return f};workspace.storagepanel.newTab=function(c){var b=workspace.storagepanel.lastNumber+1;while($("#tabStorage"+b).get().length!=0){b++}workspace.storagepanel.lastNumber=b;var a=Ext.create("Ext.Panel",{id:"tabStorage"+b,title:c.title,iconCls:"icon-home",cls:"tab-storagefile tab-kind-"+c.kind,closable:c.closable,kind:c.kind,counttab:b,listeners:{resize:function(){resizeStorageBox(this.counttab)},afterrender:function(e,d){startStorageBox(this.counttab)}},html:c.html});return a};workspace.storagepanel.showDirectory=function(a){var d=workspace.storagepanel.newTab({title:"Répertoire",closable:true,kind:"directory"});var c=workspace.storagepanel.lastNumber;var b="";b+="<div id='storagetab_"+c+"' class='storagetab'>";b+="</div>";d.update(b);workspace.storagepanel.storagePanel.filesPanel.add(d);return d};workspace.storagepanel.showFile=function(b){var a="";var c=workspace.storagepanel.newTab({title:"Fichier",closable:true,kind:"file",html:"<div>test fichier</div>"});workspace.storagepanel.storagePanel.filesPanel.add(c);return c};workspace.storagepanel.getStoragePanel=function(){var b=workspace.storagepanel.getFileTreePanel();workspace.storagepanel.lastNumber=0;var c=Ext.create("Ext.tab.Panel",{region:"center",id:"filesPanel",resizeTabs:false,collapsible:false,items:[]});var d=Ext.create("Ext.Panel",{region:"east",id:"propertiesPanel",minWidth:200,width:300,items:[]});var a=Ext.create("Ext.Panel",{region:"center",id:"storagePanel",layout:"border",bodyBorder:false,defaults:{collapsible:true,split:true},items:[b,c,d]});a.treeFilesPanel=b;a.filesPanel=c;a.propertiesPanel=d;workspace.storagepanel.storagePanel=a;workspace.storagepanel.storageMenu.centerPanel=a;return a};workspace.centerpanel.initStoragePanel=function(){workspace.storagepanel.storagePanel.filesPanel.setActiveTab(workspace.storagepanel.showDirectory("new file 1"));workspace.storagepanel.showFile("new file 2")};