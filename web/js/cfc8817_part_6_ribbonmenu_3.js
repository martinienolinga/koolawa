function workspace_control_init_ribbonmenu(){Ext.define("Koolawa.ux.Ribbon",{extend:"Ext.tab.Panel",alias:"widget.ux_ribbon",region:"north",resizeTabs:false,enableTabScroll:false,height:120,minHeight:120,frame:true,border:false,activeTab:1,centerPanel:{},initComponent:function(){var a=this;a.on("tabchange",a.tabChange);a.callParent()},updateSize:function(){var b=this;var a=b.getActiveTab();if(a.id==="tabFichier"){b.centerPanel.hide();b.setHeight($("body").height()-5)}},tabChange:function(c,b){var a=c.getActiveTab();if(a.id==="tabFichier"){c.updateSize();$("#"+c.id+" .x-tab-bar-strip").addClass("fmenu")}else{c.centerPanel.show();c.setHeight(120);$("#"+c.id+" .x-tab-bar-strip").removeClass("fmenu")}}});Ext.define("Koolawa.ux.RibbonMenu",{extend:"Ext.Panel",alias:"widget.ux_ribbonmenu",data:{},menu:[],menu2:[],tpl:"x",initComponent:function(){var b=this;var a="<div>";$.each(b.menu,function(f,h){if(h==="|"){a+='<div class="groupseparator"></div>'}else{var g="";if(h.toolbars.length==1){g=" once"}a+='<div id="'+h.id+'" class="ribbongroup'+g+'">';a+='<div class="toolbarzone">';var d=false;var c=false;$.each(h.toolbars,function(i,k){var j="";if(i!=0){j=" clearleft"}var l="";if(typeof k.alone!=="undefined"){if(d){a+="</div>";d=false}l=" alone";c=true}else{if(c){a+='<div class="blocalone">';c=false;d=true}}if(l!==""){j=""}a+='<div id="'+k.id+'" class="ribbontoolbar'+j+l+'">';$.each(k.components,function(n,m){b.menu2[h.id+k.id+m.id]=m;a+='<div id="'+m.id+'" class="ribboncomponent"></div>'});a+="</div>"});if(d){a+="</div>";d=false}a+="</div>";var e="&nbsp;";if(typeof h.label!=="undefined"){e=h.label}a+='<div class="label">'+e+"</div>";a+="</div>"}});a+="</div>";b.tpl=a;b.callParent()},listeners:{afterrender:function(){var b=this;var a=$("#"+b.id+" .ribbongroup");a.each(function(c,d){var e=$(d).find(".ribbontoolbar");e.each(function(h,g){var f=$(g).find(".ribboncomponent");f.each(function(k,i){var l=b.menu2[d.id+g.id+i.id];if(typeof l.text==="undefined"){l.text=""}if(typeof l.cls==="undefined"){l.cls=""}var j=new Ext.Button({id:i.id+"-cmp",text:l.text,cls:"icon "+l.cls,height:i.offsetHeight,width:i.offsetWidth,renderTo:i});if(typeof l.tooltip!=="undefined"){$("#"+j.id).attr("title",l.tooltip)}if(typeof l.onclick!=="undefined"){$("#"+j.id).on("click",l.onclick)}})})});$(document).tooltip()}}})};