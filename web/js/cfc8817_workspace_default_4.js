workspace.workzone={};workspace.workzone.getZonePanel=function(c,b){var a=Ext.create("Ext.Viewport",{id:"workspaceViewport",cls:"workzone_"+c,layout:{type:"border",padding:0},defaults:{split:false},items:b});return a};workspace.workzone.getBeginMenu=function(e){var a=[];if(typeof e==="undefined"){e={}}var b=Ext.create("Ext.Panel",{id:"tabFichier",title:"Fichier",cls:"tab-menu",closable:false,listeners:{afterrender:function(k){var f=$("#"+k.id+"-innerCt");f.append($("<table>",{"class":"filemenucontent",border:"0",cellspacing:"0",cellpadding:"0",width:"100%",height:"100%"}).append($("<tr>").append($("<td>",{id:"filemenu1",width:"250",valign:"top"})).append($("<td>",{id:"filemenu2",valign:"top"}))));var j=new Ext.Button({id:"filemenu-save",text:"Enregistrer",cls:"filemenubutton oneshot",iconCls:"icon-save",width:240,renderTo:"filemenu1",listeners:{click:function(){if(typeof e.savefile!=="undefined"){e.savefile()}}}});var g=new Ext.Button({id:"filemenu-saveas",text:"Enregistrer sous",cls:"filemenubutton oneshot",iconCls:"icon-save-as",width:240,renderTo:"filemenu1"});var i=new Ext.Button({id:"filemenu-open",iconCls:"icon-open",text:"Ouvrir",cls:"filemenubutton oneshot",width:240,renderTo:"filemenu1",listeners:{click:function(){var r=workspace.storagepanel.com.fileDialog({onopen:function(s){if(typeof e.onopen!=="undefined"){e.onopen(s)}}});r.show()}}});var n=new Ext.Button({id:"filemenu-close",text:"Fermer",cls:"filemenubutton oneshot",iconCls:"icon-close",width:240,renderTo:"filemenu1"});var m=new Ext.Button({id:"filemenu-information",text:"Informations",cls:"filemenubutton extendshot",iconCls:"icon-empty",height:40,width:250,enableToggle:true,toggleGroup:"extendshot",allowDepress:false,renderTo:"filemenu1"});var q=new Ext.Button({id:"filemenu-recent",text:"Recent",cls:"filemenubutton extendshot",iconCls:"icon-empty",height:40,width:250,pressed:"pressed",enableToggle:true,toggleGroup:"extendshot",allowDepress:false,renderTo:"filemenu1"});var l=new Ext.Button({id:"filemenu-nouveau",text:"Nouveau",cls:"filemenubutton extendshot",iconCls:"icon-empty",height:40,width:250,enableToggle:true,toggleGroup:"extendshot",allowDepress:false,renderTo:"filemenu1"});var h=new Ext.Button({id:"filemenu-partager",text:"Partager",cls:"filemenubutton extendshot",iconCls:"icon-shared_22",height:40,width:250,enableToggle:true,toggleGroup:"extendshot",allowDepress:false,renderTo:"filemenu1"});var p=new Ext.Button({id:"filemenu-options",text:"Options",cls:"filemenubutton oneshot",iconCls:"icon-empty",width:240,renderTo:"filemenu1"});var o=new Ext.Button({id:"filemenu-quitter",text:"Quitter",cls:"filemenubutton oneshot",iconCls:"icon-exit",width:240,renderTo:"filemenu1",listeners:{click:function(){Ext.Msg.show({title:"Koolawa",msg:"Voulez-vous vraiment quitter ?",buttons:Ext.Msg.YESNO,fn:function(r,s){if(r=="yes"){document.location=_request_scheme+"://"+_http_host+_script_name+"/"+_locale}},animateTarget:"elId",icon:Ext.window.MessageBox.QUESTION})}}})}}});a.push(b);a.tabFichier=b;if(typeof e.menuForce==="undefined"){e.menuForce=[];e.menuForce.push("Accueil");e.menuForce.push("Insertion")}var c=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabAccueil",title:e.menuForce[0],cls:"tab-menu",closable:false,menu:[{id:"clipboardgroup",label:"Presse-papier",toolbars:[{id:"clipboardtoolbar1",alone:true,components:[{id:"pastebtn",tooltip:"Coller",cls:"icon-paste_48",onclick:function(){}}]},{id:"clipboardtoolbar2",components:[{id:"copybtn",cls:"icon-copy",tooltip:"Copier"}]},{id:"clipboardtoolbar3",components:[{id:"cutbtn",cls:"icon-cut",tooltip:"Couper"}]}]}]});a.push(c);a.tabAccueil=c;var d=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabInsertion",title:e.menuForce[1],cls:"tab-menu",closable:false});a.push(d);a.tabInsertion=d;return a};workspace.workzone.getEndMenu=function(a){var b=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabAffichage",title:"Affichage",cls:"tab-menu",closable:false});a.push(b);a.tabAffichage=b;var c=Ext.create("Koolawa.ux.RibbonMenu",{id:"tabAide",title:"Aide",cls:"tab-menu",closable:false});a.push(c);a.tabAide=c;return a};workspace.workzone.addShortMenu=function(d,f){var c=$("#"+d.id).find("div").get()[0];var b=$("#"+c.id+"-targetEl");var a=b.find("a");a.each(function(h){var g=$(this);if(h==1){g.css("marginLeft",32*f.length+"px");return false}});var e=0;$.each(f,function(g,h){var i=$("<div>",{"class":"shortmenu icon "+h.cls,title:h.tooltip});if(typeof h.onclick!=="undefined"){i.on("click",h.onclick)}i.css("left",(73+e*29)+"px");e++;b.append(i)});$(document).tooltip()};