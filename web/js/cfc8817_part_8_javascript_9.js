(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function b(e,d,c){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(d.lastType)||(d.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(c||0))))}a.defineMode("javascript",function(af,ao){var n=af.indentUnit;var D=ao.statementIndent;var aF=ao.jsonld;var C=ao.json||aF;var h=ao.typescript;var az=ao.wordCharacters||/[\w$\xa1-\uffff]/;var ax=function(){function aV(aX){return{type:aX,style:"keyword"}}var aQ=aV("keyword a"),aO=aV("keyword b"),aN=aV("keyword c");var aP=aV("operator"),aT={type:"atom",style:"atom"};var aR={"if":aV("if"),"while":aQ,"with":aQ,"else":aO,"do":aO,"try":aO,"finally":aO,"return":aN,"break":aN,"continue":aN,"new":aV("new"),"delete":aN,"throw":aN,"debugger":aN,"var":aV("var"),"const":aV("var"),let:aV("var"),"function":aV("function"),"catch":aV("catch"),"for":aV("for"),"switch":aV("switch"),"case":aV("case"),"default":aV("default"),"in":aP,"typeof":aP,"instanceof":aP,"true":aT,"false":aT,"null":aT,"undefined":aT,"NaN":aT,"Infinity":aT,"this":aV("this"),"class":aV("class"),"super":aV("atom"),yield:aN,"export":aV("export"),"import":aV("import"),"extends":aN,await:aN,async:aV("async")};if(h){var aW={type:"variable",style:"variable-3"};var aS={"interface":aV("class"),"implements":aN,namespace:aN,module:aV("module"),"enum":aV("module"),"public":aV("modifier"),"private":aV("modifier"),"protected":aV("modifier"),"abstract":aV("modifier"),as:aP,string:aW,number:aW,"boolean":aW,any:aW};for(var aU in aS){aR[aU]=aS[aU]}}return aR}();var T=/[+\-*&%=<>!?|~^]/;var aw=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function I(aQ){var aO=false,aN,aP=false;while((aN=aQ.next())!=null){if(!aO){if(aN=="/"&&!aP){return}if(aN=="["){aP=true}else{if(aP&&aN=="]"){aP=false}}}aO=!aO&&aN=="\\"}}var X,J;function P(aP,aO,aN){X=aP;J=aN;return aO}function Z(aR,aP){var aN=aR.next();if(aN=='"'||aN=="'"){aP.tokenize=W(aN);return aP.tokenize(aR,aP)}else{if(aN=="."&&aR.match(/^\d+(?:[eE][+\-]?\d+)?/)){return P("number","number")}else{if(aN=="."&&aR.match("..")){return P("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aN)){return P(aN)}else{if(aN=="="&&aR.eat(">")){return P("=>","operator")}else{if(aN=="0"&&aR.eat(/x/i)){aR.eatWhile(/[\da-f]/i);return P("number","number")}else{if(aN=="0"&&aR.eat(/o/i)){aR.eatWhile(/[0-7]/i);return P("number","number")}else{if(aN=="0"&&aR.eat(/b/i)){aR.eatWhile(/[01]/i);return P("number","number")}else{if(/\d/.test(aN)){aR.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return P("number","number")}else{if(aN=="/"){if(aR.eat("*")){aP.tokenize=aE;return aE(aR,aP)}else{if(aR.eat("/")){aR.skipToEnd();return P("comment","comment")}else{if(b(aR,aP,1)){I(aR);aR.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return P("regexp","string-2")}else{aR.eatWhile(T);return P("operator","operator",aR.current())}}}}else{if(aN=="`"){aP.tokenize=aG;return aG(aR,aP)}else{if(aN=="#"){aR.skipToEnd();return P("error","error")}else{if(T.test(aN)){aR.eatWhile(T);return P("operator","operator",aR.current())}else{if(az.test(aN)){aR.eatWhile(az);var aQ=aR.current(),aO=ax.propertyIsEnumerable(aQ)&&ax[aQ];return(aO&&aP.lastType!=".")?P(aO.type,aO.style,aQ):P("variable","variable",aQ)}}}}}}}}}}}}}}}function W(aN){return function(aR,aP){var aQ=false,aO;if(aF&&aR.peek()=="@"&&aR.match(aw)){aP.tokenize=Z;return P("jsonld-keyword","meta")}while((aO=aR.next())!=null){if(aO==aN&&!aQ){break}aQ=!aQ&&aO=="\\"}if(!aQ){aP.tokenize=Z}return P("string","string")}}function aE(aQ,aP){var aN=false,aO;while(aO=aQ.next()){if(aO=="/"&&aN){aP.tokenize=Z;break}aN=(aO=="*")}return P("comment","comment")}function aG(aQ,aO){var aP=false,aN;while((aN=aQ.next())!=null){if(!aP&&(aN=="`"||aN=="$"&&aQ.eat("{"))){aO.tokenize=Z;break}aP=!aP&&aN=="\\"}return P("quasi","string-2",aQ.current())}var o="([{}])";function aC(aT,aQ){if(aQ.fatArrowAt){aQ.fatArrowAt=null}var aP=aT.string.indexOf("=>",aT.start);if(aP<0){return}var aS=0,aO=false;for(var aU=aP-1;aU>=0;--aU){var aN=aT.string.charAt(aU);var aR=o.indexOf(aN);if(aR>=0&&aR<3){if(!aS){++aU;break}if(--aS==0){if(aN=="("){aO=true}break}}else{if(aR>=3&&aR<6){++aS}else{if(az.test(aN)){aO=true}else{if(/["'\/]/.test(aN)){return}else{if(aO&&!aS){++aU;break}}}}}}if(aO&&!aS){aQ.fatArrowAt=aU}}var c={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function N(aS,aO,aN,aR,aP,aQ){this.indented=aS;this.column=aO;this.type=aN;this.prev=aP;this.info=aQ;if(aR!=null){this.align=aR}}function v(aQ,aP){for(var aO=aQ.localVars;aO;aO=aO.next){if(aO.name==aP){return true}}for(var aN=aQ.context;aN;aN=aN.prev){for(var aO=aN.vars;aO;aO=aO.next){if(aO.name==aP){return true}}}}function g(aR,aO,aN,aQ,aS){var aT=aR.cc;H.state=aR;H.stream=aS;H.marked=null,H.cc=aT;H.style=aO;if(!aR.lexical.hasOwnProperty("align")){aR.lexical.align=true}while(true){var aP=aT.length?aT.pop():C?at:aL;if(aP(aN,aQ)){while(aT.length&&aT[aT.length-1].lex){aT.pop()()}if(H.marked){return H.marked}if(aN=="variable"&&v(aR,aQ)){return"variable-2"}return aO}}}var H={state:null,column:null,marked:null,cc:null};function ag(){for(var aN=arguments.length-1;aN>=0;aN--){H.cc.push(arguments[aN])}}function ak(){ag.apply(null,arguments);return true}function aB(aO){function aN(aR){for(var aQ=aR;aQ;aQ=aQ.next){if(aQ.name==aO){return true}}return false}var aP=H.state;H.marked="def";if(aP.context){if(aN(aP.localVars)){return}aP.localVars={name:aO,next:aP.localVars}}else{if(aN(aP.globalVars)){return}if(ao.globalVars){aP.globalVars={name:aO,next:aP.globalVars}}}}var t={name:"this",next:{name:"arguments"}};function z(){H.state.context={prev:H.state.context,vars:H.state.localVars};H.state.localVars=t}function A(){H.state.localVars=H.state.context.vars;H.state.context=H.state.context.prev}function aJ(aO,aP){var aN=function(){var aS=H.state,aQ=aS.indented;if(aS.lexical.type=="stat"){aQ=aS.lexical.indented}else{for(var aR=aS.lexical;aR&&aR.type==")"&&aR.align;aR=aR.prev){aQ=aR.indented}}aS.lexical=new N(aQ,H.stream.column(),aO,null,aS.lexical,aP)};aN.lex=true;return aN}function i(){var aN=H.state;if(aN.lexical.prev){if(aN.lexical.type==")"){aN.indented=aN.lexical.indented}aN.lexical=aN.lexical.prev}}i.lex=true;function u(aN){function aO(aP){if(aP==aN){return ak()}else{if(aN==";"){return ag()}else{return ak(aO)}}}return aO}function aL(aN,aO){if(aN=="var"){return ak(aJ("vardef",aO.length),e,u(";"),i)}if(aN=="keyword a"){return ak(aJ("form"),at,aL,i)}if(aN=="keyword b"){return ak(aJ("form"),aL,i)}if(aN=="{"){return ak(aJ("}"),B,i)}if(aN==";"){return ak()}if(aN=="if"){if(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==i){H.state.cc.pop()()}return ak(aJ("form"),at,aL,i,f)}if(aN=="function"){return ak(Q)}if(aN=="for"){return ak(aJ("form"),x,aL,i)}if(aN=="variable"){return ak(aJ("stat"),aM)}if(aN=="switch"){return ak(aJ("form"),at,aJ("}","switch"),u("{"),B,i,i)}if(aN=="case"){return ak(at,u(":"))}if(aN=="default"){return ak(u(":"))}if(aN=="catch"){return ak(aJ("form"),z,u("("),aj,u(")"),aL,i,A)}if(aN=="class"){return ak(aJ("form"),ab,i)}if(aN=="export"){return ak(aJ("stat"),aK,i)}if(aN=="import"){return ak(aJ("stat"),al,i)}if(aN=="module"){return ak(aJ("form"),j,aJ("}"),u("{"),B,i,i)}if(aN=="async"){return ak(aL)}return ag(aJ("stat"),at,u(";"),i)}function at(aN){return ae(aN,false)}function aI(aN){return ae(aN,true)}function ae(aO,aQ){if(H.state.fatArrowAt==H.stream.start){var aN=aQ?R:ac;if(aO=="("){return ak(z,aJ(")"),ay(j,")"),i,u("=>"),aN,A)}else{if(aO=="variable"){return ag(z,j,u("=>"),aN,A)}}}var aP=aQ?l:ah;if(c.hasOwnProperty(aO)){return ak(aP)}if(aO=="function"){return ak(Q,aP)}if(aO=="keyword c"||aO=="async"){return ak(aQ?ap:an)}if(aO=="("){return ak(aJ(")"),an,u(")"),i,aP)}if(aO=="operator"||aO=="spread"){return ak(aQ?aI:at)}if(aO=="["){return ak(aJ("]"),p,i,aP)}if(aO=="{"){return aD(w,"}",null,aP)}if(aO=="quasi"){return ag(U,aP)}if(aO=="new"){return ak(L(aQ))}return ak()}function an(aN){if(aN.match(/[;\}\)\],]/)){return ag()}return ag(at)}function ap(aN){if(aN.match(/[;\}\)\],]/)){return ag()}return ag(aI)}function ah(aN,aO){if(aN==","){return ak(at)}return l(aN,aO,false)}function l(aN,aP,aR){var aO=aR==false?ah:l;var aQ=aR==false?at:aI;if(aN=="=>"){return ak(z,aR?R:ac,A)}if(aN=="operator"){if(/\+\+|--/.test(aP)){return ak(aO)}if(aP=="?"){return ak(at,u(":"),aQ)}return ak(aQ)}if(aN=="quasi"){return ag(U,aO)}if(aN==";"){return}if(aN=="("){return aD(aI,")","call",aO)}if(aN=="."){return ak(aq,aO)}if(aN=="["){return ak(aJ("]"),an,u("]"),i,aO)}}function U(aN,aO){if(aN!="quasi"){return ag()}if(aO.slice(aO.length-2)!="${"){return ak(U)}return ak(at,s)}function s(aN){if(aN=="}"){H.marked="string-2";H.state.tokenize=aG;return ak(U)}}function ac(aN){aC(H.stream,H.state);return ag(aN=="{"?aL:at)}function R(aN){aC(H.stream,H.state);return ag(aN=="{"?aL:aI)}function L(aN){return function(aO){if(aO=="."){return ak(aN?q:aa)}else{return ag(aN?aI:at)}}}function aa(aN,aO){if(aO=="target"){H.marked="keyword";return ak(ah)}}function q(aN,aO){if(aO=="target"){H.marked="keyword";return ak(l)}}function aM(aN){if(aN==":"){return ak(i,aL)}return ag(ah,u(";"),i)}function aq(aN){if(aN=="variable"){H.marked="property";return ak()}}function w(aN,aO){if(aN=="async"){H.marked="property";return ak(w)}else{if(aN=="variable"||H.style=="keyword"){H.marked="property";if(aO=="get"||aO=="set"){return ak(M)}return ak(O)}else{if(aN=="number"||aN=="string"){H.marked=aF?"property":(H.style+" property");return ak(O)}else{if(aN=="jsonld-keyword"){return ak(O)}else{if(aN=="modifier"){return ak(w)}else{if(aN=="["){return ak(at,u("]"),O)}else{if(aN=="spread"){return ak(at)}else{if(aN==":"){return ag(O)}}}}}}}}}function M(aN){if(aN!="variable"){return ag(O)}H.marked="property";return ak(Q)}function O(aN){if(aN==":"){return ak(aI)}if(aN=="("){return ag(Q)}}function ay(aP,aN){function aO(aR,aS){if(aR==","){var aQ=H.state.lexical;if(aQ.info=="call"){aQ.pos=(aQ.pos||0)+1}return ak(function(aT,aU){if(aT==aN||aU==aN){return ag()}return ag(aP)},aO)}if(aR==aN||aS==aN){return ak()}return ak(u(aN))}return function(aQ,aR){if(aQ==aN||aR==aN){return ak()}return ag(aP,aO)}}function aD(aQ,aN,aP){for(var aO=3;aO<arguments.length;aO++){H.cc.push(arguments[aO])}return ak(aJ(aN,aP),ay(aQ,aN),i)}function B(aN){if(aN=="}"){return ak()}return ag(aL,B)}function Y(aN){if(h&&aN==":"){return ak(k)}}function aA(aN,aO){if(aO=="="){return ak(aI)}}function k(aN){if(aN=="variable"){H.marked="variable-3";return ak(K)}if(aN=="{"){return ak(ay(ar,"}"))}if(aN=="("){return ak(ay(ar,")"),V)}}function V(aN){if(aN=="=>"){return ak(k)}}function ar(aN){if(aN=="variable"||H.style=="keyword"){H.marked="property";return ak(ar)}else{if(aN==":"){return ak(k)}}}function K(aN,aO){if(aO=="<"){return ak(ay(k,">"),K)}if(aN=="["){return ak(u("]"),K)}}function e(){return ag(j,Y,ai,ad)}function j(aN,aO){if(aN=="modifier"){return ak(j)}if(aN=="variable"){aB(aO);return ak()}if(aN=="spread"){return ak(j)}if(aN=="["){return aD(j,"]")}if(aN=="{"){return aD(aH,"}")}}function aH(aN,aO){if(aN=="variable"&&!H.stream.match(/^\s*:/,false)){aB(aO);return ak(ai)}if(aN=="variable"){H.marked="property"}if(aN=="spread"){return ak(j)}if(aN=="}"){return ag()}return ak(u(":"),j,ai)}function ai(aN,aO){if(aO=="="){return ak(aI)}}function ad(aN){if(aN==","){return ak(e)}}function f(aN,aO){if(aN=="keyword b"&&aO=="else"){return ak(aJ("form","else"),aL,i)}}function x(aN){if(aN=="("){return ak(aJ(")"),G,u(")"),i)}}function G(aN){if(aN=="var"){return ak(e,u(";"),F)}if(aN==";"){return ak(F)}if(aN=="variable"){return ak(y)}return ag(at,u(";"),F)}function y(aN,aO){if(aO=="in"||aO=="of"){H.marked="keyword";return ak(at)}return ak(ah,F)}function F(aN,aO){if(aN==";"){return ak(E)}if(aO=="in"||aO=="of"){H.marked="keyword";return ak(at)}return ag(at,u(";"),E)}function E(aN){if(aN!=")"){ak(at)}}function Q(aN,aO){if(aO=="*"){H.marked="keyword";return ak(Q)}if(aN=="variable"){aB(aO);return ak(Q)}if(aN=="("){return ak(z,aJ(")"),ay(aj,")"),i,Y,aL,A)}}function aj(aN){if(aN=="spread"){return ak(aj)}return ag(j,Y,aA)}function ab(aN,aO){if(aN=="variable"){aB(aO);return ak(S)}}function S(aN,aO){if(aO=="extends"){return ak(at,S)}if(aN=="{"){return ak(aJ("}"),r,i)}}function r(aN,aO){if(aN=="variable"||H.style=="keyword"){if(aO=="static"){H.marked="keyword";return ak(r)}H.marked="property";if(aO=="get"||aO=="set"){return ak(d,Q,r)}return ak(Q,r)}if(aO=="*"){H.marked="keyword";return ak(r)}if(aN==";"){return ak(r)}if(aN=="}"){return ak()}}function d(aN){if(aN!="variable"){return ag()}H.marked="property";return ak()}function aK(aN,aO){if(aO=="*"){H.marked="keyword";return ak(am,u(";"))}if(aO=="default"){H.marked="keyword";return ak(at,u(";"))}return ag(aL)}function al(aN){if(aN=="string"){return ak()}return ag(av,am)}function av(aN,aO){if(aN=="{"){return aD(av,"}")}if(aN=="variable"){aB(aO)}if(aO=="*"){H.marked="keyword"}return ak(m)}function m(aN,aO){if(aO=="as"){H.marked="keyword";return ak(av)}}function am(aN,aO){if(aO=="from"){H.marked="keyword";return ak(at)}}function p(aN){if(aN=="]"){return ak()}return ag(ay(aI,"]"))}function au(aO,aN){return aO.lastType=="operator"||aO.lastType==","||T.test(aN.charAt(0))||/[,.]/.test(aN.charAt(0))}return{startState:function(aO){var aN={tokenize:Z,lastType:"sof",cc:[],lexical:new N((aO||0)-n,0,"block",false),localVars:ao.localVars,context:ao.localVars&&{vars:ao.localVars},indented:aO||0};if(ao.globalVars&&typeof ao.globalVars=="object"){aN.globalVars=ao.globalVars}return aN},token:function(aP,aO){if(aP.sol()){if(!aO.lexical.hasOwnProperty("align")){aO.lexical.align=false}aO.indented=aP.indentation();aC(aP,aO)}if(aO.tokenize!=aE&&aP.eatSpace()){return null}var aN=aO.tokenize(aP,aO);if(X=="comment"){return aN}aO.lastType=X=="operator"&&(J=="++"||J=="--")?"incdec":X;return g(aO,aN,X,J,aP)},indent:function(aT,aN){if(aT.tokenize==aE){return a.Pass}if(aT.tokenize!=Z){return 0}var aS=aN&&aN.charAt(0),aQ=aT.lexical;if(!/^\s*else\b/.test(aN)){for(var aP=aT.cc.length-1;aP>=0;--aP){var aU=aT.cc[aP];if(aU==i){aQ=aQ.prev}else{if(aU!=f){break}}}}if(aQ.type=="stat"&&aS=="}"){aQ=aQ.prev}if(D&&aQ.type==")"&&aQ.prev.type=="stat"){aQ=aQ.prev}var aR=aQ.type,aO=aS==aR;if(aR=="vardef"){return aQ.indented+(aT.lastType=="operator"||aT.lastType==","?aQ.info+1:0)}else{if(aR=="form"&&aS=="{"){return aQ.indented}else{if(aR=="form"){return aQ.indented+n}else{if(aR=="stat"){return aQ.indented+(au(aT,aN)?D||n:0)}else{if(aQ.info=="switch"&&!aO&&ao.doubleIndentSwitch!=false){return aQ.indented+(/^(?:case|default)\b/.test(aN)?n:2*n)}else{if(aQ.align){return aQ.column+(aO?0:1)}else{return aQ.indented+(aO?0:n)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:C?null:"/*",blockCommentEnd:C?null:"*/",lineComment:C?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:C?"json":"javascript",jsonldMode:aF,jsonMode:C,expressionAllowed:b,skipExpression:function(aN){var aO=aN.cc[aN.cc.length-1];if(aO==at||aO==aI){aN.cc.pop()}}}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});